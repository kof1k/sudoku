{% extends 'base.html' %}

{% block title %}Chat - Sudoku{% endblock %}

{% block content %}
<div class="chat-container">
    <h1>Player Chat</h1>
    
    <div class="chat-box" id="chat-box">
        {% for message in messages %}
        <div class="chat-message">
            <span class="message-user">{{ message.user.username }}</span>
            <span class="message-time">{{ message.created_at|time:"H:i" }}</span>
            <p class="message-text">{{ message.message }}</p>
        </div>
        {% empty %}
        <p class="no-messages">No messages yet. Start the conversation!</p>
        {% endfor %}
    </div>
    
    <form id="chat-form" class="chat-form">
        {% csrf_token %}
        <input type="text" id="message-input" placeholder="Type your message..." maxlength="500" required>
        <button type="submit" class="btn btn-primary">Send</button>
    </form>
</div>
{% endblock %}

{% block extra_js %}
{% load static %}
<script src="{% static 'js/chat.js' %}"></script>
{% endblock %}
